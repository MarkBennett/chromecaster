<html>
    <body>
        <script src="//www.gstatic.com/cast/sdk/libs/receiver/2.0.0/cast_receiver.js"></script>
        <script>
(function () {
  
  var MSG_NAMESPACE = "urn:x-cast:ca.burmis.namespace";
  
  window.onload = function() {
    log("Starting CastReceiverManager");
    window.castReceiverManager = cast.receiver.CastReceiverManager.getInstance();
    window.castReceiverManager.onReady = function(event) {
      log("CastReceiverManager ready event");
      log(event);
      
      var customMessageBus = window.castReceiverManager.getCastMessageBus(MSG_NAMESPACE);
      customMessageBus.onMessage = function(event) {
        // Handle message
        log("Received new message!");
        log("message");
      }
    };
    window.castReceiverManager.onSenderConnected = function(event) {
      log("CastReceiverManager senderConnected event");
      log(event);
    };
    window.castReceiverManager.start();
  };
  
  function log(message) {
    var elem = document.getElementById("logger");
    
    elem.innerHTML = elem.innerHTML + message + "\n";
  }
}());
        </script>
        <div>
          <pre id="logger">
            
          </pre>
        </div>
    </body>
</html>
 
<h1>Receiver</h1>
<p>I should really be doing something fun. Soon!</p>
